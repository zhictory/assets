{"remainingRequest":"C:\\Users\\Randolf Zhang\\AppData\\Roaming\\npm\\node_modules\\@vue\\cli-service-global\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\Randolf Zhang\\Desktop\\华为开发\\assets\\vue\\src\\components\\Progress2.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\Randolf Zhang\\Desktop\\华为开发\\assets\\vue\\src\\components\\Progress2.vue","mtime":1644796541499},{"path":"C:\\Users\\Randolf Zhang\\AppData\\Roaming\\npm\\node_modules\\@vue\\cli-service-global\\node_modules\\thread-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\Randolf Zhang\\AppData\\Roaming\\npm\\node_modules\\@vue\\cli-service-global\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"C:\\Users\\Randolf Zhang\\AppData\\Roaming\\npm\\node_modules\\@vue\\cli-service-global\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\Randolf Zhang\\AppData\\Roaming\\npm\\node_modules\\@vue\\cli-service-global\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KDQpleHBvcnQgZGVmYXVsdCB7DQogIG5hbWU6ICJQcm9ncmVzczIiLA0KICBwcm9wczogew0KICAgIHByb2dyZXNzOiB7DQogICAgICB0eXBlOiBOdW1iZXIsDQogICAgICByZXF1aXJlZDogdHJ1ZSwNCiAgICB9LA0KICAgIHByb2dyZXNzT3B0aW9uOiB7DQogICAgICB0eXBlOiBPYmplY3QsDQogICAgICBkZWZhdWx0OiAoKSA9PiB7fSwNCiAgICB9LA0KICB9LA0KICBjb21wdXRlZDogew0KICAgIGFyY09wdGlvbigpIHsNCiAgICAgIGxldCBhcmNDb25maWcgPSB7fTsNCiAgICAgIGxldCBjaXJjbGVMZW5ndGggPSBNYXRoLmZsb29yKDIgKiBNYXRoLlBJICogdGhpcy5vcHRpb24ucmFkaXVzKTsNCiAgICAgIC8vIOWmguaenOatpOaXtuWwj+S6jjAuNSDliJnlj6rpnIDopoHmmL7npLrmnIDlpJblsYLnmoTlnIblvKcg6YeM6Z2i55qE5ZyG5byn5LiN6ZyA6KaB55S75LqGDQogICAgICAvLyDml7bpl7TorqHnrpcg5Zug5Li656ys5LqM5q6155qE6ZW/5bqm5LiN6KeB5b6X562J5LqO56ys5LiA5q61IOaJgOS7peS4jeiDveW5s+WIhuaXtumXtCDkuI3nhLbkvJrlr7zoh7TnrKzkuoznq6/nmoTpgJ/luqblh7rnjrDpqqTpmY0NCiAgICAgIC8vIOWboOatpOmcgOimgeaMieeFp+avlOS+i+i/m+ihjOaXtumXtOiuoeeulw0KICAgICAgaWYgKHRoaXMucHJvZ3Jlc3MgPCAwLjUpIHsNCiAgICAgICAgYXJjQ29uZmlnLm91dEFyY0xlbmd0aCA9IHRoaXMucHJvZ3Jlc3MgKiBjaXJjbGVMZW5ndGg7DQogICAgICAgIGFyY0NvbmZpZy5vdXREdXJ0aW9uID0gdGhpcy5vcHRpb24uZHVydGlvbjsgLy8g5Li65Yid5aeL6K6+572u55qE5Yqo55S75YC8DQogICAgICAgIGFyY0NvbmZpZy5pbm5lckFyY0xlbmd0aCA9IDA7DQogICAgICAgIGFyY0NvbmZpZy5pbm5lckluaXRBcmNMZW5ndGggPSAwOyAvLyDkuLrliqjnlLvlgZrlh4blpIcNCiAgICAgICAgYXJjQ29uZmlnLmlubmVyRHVydGlvbiA9IDA7DQogICAgICB9IGVsc2Ugew0KICAgICAgICBjb25zdCB0aW1lID0gdGhpcy5vcHRpb24uZHVydGlvbi5zcGxpdCgicyIpWzBdOw0KICAgICAgICBhcmNDb25maWcub3V0QXJjTGVuZ3RoID0gMC41ICogY2lyY2xlTGVuZ3RoOw0KICAgICAgICBhcmNDb25maWcub3V0RHVydGlvbiA9ICgwLjUgLyB0aGlzLnByb2dyZXNzKSAqIHRpbWUgKyAicyI7IC8vDQogICAgICAgIGFyY0NvbmZpZy5pbm5lckFyY0xlbmd0aCA9IHRoaXMucHJvZ3Jlc3MgKiBjaXJjbGVMZW5ndGg7DQogICAgICAgIGFyY0NvbmZpZy5pbm5lckluaXRBcmNMZW5ndGggPSAwLjUgKiBjaXJjbGVMZW5ndGg7IC8vIOS4uuWKqOeUu+WBmuWHhuWkhyDmraTml7bku47kuK3pl7TlvIDlp4sNCiAgICAgICAgYXJjQ29uZmlnLmlubmVyRHVydGlvbiA9ICgodGhpcy5wcm9ncmVzcyAtIDAuNSkgLyB0aGlzLnByb2dyZXNzKSAqIHRpbWUgKyAicyI7IC8vIOS4uuWKqOeUu+WBmuWHhuWkhyDmraTml7bku47kuK3pl7TlvIDlp4sNCiAgICAgIH0NCiAgICAgIGNvbnN0IHRhbnNmcm9tQ29sb3IgPSAoYXJyKSA9PiBgcmdiKCR7YXJyWzBdfSwke2FyclsxXX0sJHthcnJbMl19KWA7DQogICAgICBhcmNDb25maWcub3V0QXJjU3RhcnRDb2xvciA9IHRhbnNmcm9tQ29sb3IodGhpcy5vcHRpb24uc3RhcnRDb2xvcik7DQogICAgICBhcmNDb25maWcub3V0QXJjRW5kQ29sb3IgPSB0YW5zZnJvbUNvbG9yKHRoaXMub3B0aW9uLnN0YXJ0Q29sb3IubWFwKChjb2xvciwgaW5kZXgpID0+IGNvbG9yICsgKHRoaXMub3B0aW9uLmVuZENvbG9yW2luZGV4XSAtIGNvbG9yKSAvIDIpKTsNCiAgICAgIGFyY0NvbmZpZy5pbm5lckFyY1N0YXJ0Q29sb3IgPSB0YW5zZnJvbUNvbG9yKHRoaXMub3B0aW9uLmVuZENvbG9yKTsNCiAgICAgIGFyY0NvbmZpZy5pbm5lckFyY0VuZENvbG9yID0gdGFuc2Zyb21Db2xvcih0aGlzLm9wdGlvbi5zdGFydENvbG9yLm1hcCgoY29sb3IsIGluZGV4KSA9PiBjb2xvciArICh0aGlzLm9wdGlvbi5lbmRDb2xvcltpbmRleF0gLSBjb2xvcikgLyAyKSk7DQogICAgICByZXR1cm4gYXJjQ29uZmlnOw0KICAgIH0sDQogICAgb3B0aW9uKCkgew0KICAgICAgLy8g5omA5pyJ6L+b5bqm5p2h55qE5Y+v6YWN572u6aG5DQogICAgICBsZXQgYmFzZU9wdGlvbiA9IHsNCiAgICAgICAgcmFkaXVzOiAxMDAsDQogICAgICAgIHN0cm9rZVdpZHRoOiAyMCwNCiAgICAgICAgYmFja0NvbG9yOiAiI0U2RTZFNiIsDQogICAgICAgIHN0YXJ0Q29sb3I6IFsxMzQsIDE5MywgMjU1XSwNCiAgICAgICAgZW5kQ29sb3I6IFs0MywgOTEsIDI0OV0sDQogICAgICAgIGR1cnRpb246ICIxcyIsDQogICAgICAgIHN0ZXA6IDEwMCwNCiAgICAgIH07DQogICAgICBPYmplY3QuYXNzaWduKGJhc2VPcHRpb24sIHRoaXMucHJvZ3Jlc3NPcHRpb24pOw0KICAgICAgLy8g5Lit5b+D5L2N572u6Ieq5Yqo55Sf5oiQDQogICAgICBiYXNlT3B0aW9uLmN5ID0gYmFzZU9wdGlvbi5jeCA9IGJhc2VPcHRpb24ucmFkaXVzICsgYmFzZU9wdGlvbi5zdHJva2VXaWR0aDsNCiAgICAgIGJhc2VPcHRpb24uc2l6ZSA9IChiYXNlT3B0aW9uLnJhZGl1cyArIGJhc2VPcHRpb24uc3Ryb2tlV2lkdGgpICogMjsNCiAgICAgIHJldHVybiBiYXNlT3B0aW9uOw0KICAgIH0sDQogIH0sDQogIG1vdW50ZWQoKSB7DQogICAgd2luZG93LnJlbmRlclByb2dyZXNzID0gKHBlcmNlbnQsIHN0YXRlKSA9PiB7DQogICAgICBpZiAodGhpcy5zdGF0ZSAhPT0gMikgew0KICAgICAgICB0aGlzLnN0YXRlID0gc3RhdGU7DQogICAgICB9DQoNCiAgICAgIHRoaXMucHJvZ3Jlc3NOdW0gPSBwZXJjZW50Ow0KICAgIH07DQogIH0sDQp9Ow0K"},{"version":3,"sources":["Progress2.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA0DA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA","file":"Progress2.vue","sourceRoot":"components","sourcesContent":["<template>\r\n  <svg :height=\"option.size\" :width=\"option.size\" x-mlns=\"http://www.w3.org/200/svg\">\r\n    <defs>\r\n      <linearGradient x1=\"1\" y1=\"0\" x2=\"0\" y2=\"0\" id=\"outGradient\">\r\n        <stop offset=\"0%\" :stop-color=\"arcOption.outArcStartColor\" />\r\n        <stop offset=\"100%\" :stop-color=\"arcOption.outArcEndColor\" />\r\n      </linearGradient>\r\n      <linearGradient x1=\"1\" y1=\"0\" x2=\"0\" y2=\"0\" id=\"innerGradient\">\r\n        <stop offset=\"0%\" :stop-color=\"arcOption.innerArcStartColor\" />\r\n        <stop offset=\"100%\" :stop-color=\"arcOption.innerArcEndColor\" />\r\n      </linearGradient>\r\n    </defs>\r\n    <circle :r=\"option.radius\" :cx=\"option.cx\" :cy=\"option.cy\" :stroke=\"option.backColor\" :stroke-width=\"option.strokeWidth\" fill=\"none\" />\r\n    <circle\r\n      :r=\"option.radius\"\r\n      :cx=\"option.cx\"\r\n      :cy=\"option.cy\"\r\n      stroke=\"url('#innerGradient')\"\r\n      :stroke-width=\"option.strokeWidth\"\r\n      transform=\"rotate(-90)\"\r\n      transform-origin=\"center\"\r\n      fill=\"none\"\r\n      stroke-linecap=\"round\"\r\n      :stroke-dasharray=\"`0,1000000`\"\r\n    >\r\n      <animate\r\n        :to=\"`${arcOption.innerArcLength},1000000`\"\r\n        :begin=\"arcOption.outDurtion\"\r\n        :dur=\"arcOption.innerDurtion\"\r\n        :from=\"`${arcOption.innerInitArcLength},1000000`\"\r\n        attributeName=\"stroke-dasharray\"\r\n        fill=\"freeze\"\r\n      />\r\n    </circle>\r\n    <circle\r\n      :r=\"option.radius\"\r\n      :cx=\"option.cx\"\r\n      :cy=\"option.cy\"\r\n      stroke=\"url('#outGradient')\"\r\n      :stroke-width=\"option.strokeWidth\"\r\n      :stroke-dasharray=\"`${arcOption.outArcLength},1000000`\"\r\n      fill=\"none\"\r\n      transform=\"rotate(-90)\"\r\n      transform-origin=\"center\"\r\n      stroke-linecap=\"round\"\r\n    >\r\n      <animate\r\n        :to=\"`${arcOption.outArcLength},1000000`\"\r\n        begin=\"0s\"\r\n        :dur=\"arcOption.outDurtion\"\r\n        from=\"0,1000000\"\r\n        attributeName=\"stroke-dasharray\"\r\n        fill=\"freeze\"\r\n      />\r\n    </circle>\r\n  </svg>\r\n</template>\r\n<script>\r\nexport default {\r\n  name: \"Progress2\",\r\n  props: {\r\n    progress: {\r\n      type: Number,\r\n      required: true,\r\n    },\r\n    progressOption: {\r\n      type: Object,\r\n      default: () => {},\r\n    },\r\n  },\r\n  computed: {\r\n    arcOption() {\r\n      let arcConfig = {};\r\n      let circleLength = Math.floor(2 * Math.PI * this.option.radius);\r\n      // 如果此时小于0.5 则只需要显示最外层的圆弧 里面的圆弧不需要画了\r\n      // 时间计算 因为第二段的长度不见得等于第一段 所以不能平分时间 不然会导致第二端的速度出现骤降\r\n      // 因此需要按照比例进行时间计算\r\n      if (this.progress < 0.5) {\r\n        arcConfig.outArcLength = this.progress * circleLength;\r\n        arcConfig.outDurtion = this.option.durtion; // 为初始设置的动画值\r\n        arcConfig.innerArcLength = 0;\r\n        arcConfig.innerInitArcLength = 0; // 为动画做准备\r\n        arcConfig.innerDurtion = 0;\r\n      } else {\r\n        const time = this.option.durtion.split(\"s\")[0];\r\n        arcConfig.outArcLength = 0.5 * circleLength;\r\n        arcConfig.outDurtion = (0.5 / this.progress) * time + \"s\"; //\r\n        arcConfig.innerArcLength = this.progress * circleLength;\r\n        arcConfig.innerInitArcLength = 0.5 * circleLength; // 为动画做准备 此时从中间开始\r\n        arcConfig.innerDurtion = ((this.progress - 0.5) / this.progress) * time + \"s\"; // 为动画做准备 此时从中间开始\r\n      }\r\n      const tansfromColor = (arr) => `rgb(${arr[0]},${arr[1]},${arr[2]})`;\r\n      arcConfig.outArcStartColor = tansfromColor(this.option.startColor);\r\n      arcConfig.outArcEndColor = tansfromColor(this.option.startColor.map((color, index) => color + (this.option.endColor[index] - color) / 2));\r\n      arcConfig.innerArcStartColor = tansfromColor(this.option.endColor);\r\n      arcConfig.innerArcEndColor = tansfromColor(this.option.startColor.map((color, index) => color + (this.option.endColor[index] - color) / 2));\r\n      return arcConfig;\r\n    },\r\n    option() {\r\n      // 所有进度条的可配置项\r\n      let baseOption = {\r\n        radius: 100,\r\n        strokeWidth: 20,\r\n        backColor: \"#E6E6E6\",\r\n        startColor: [134, 193, 255],\r\n        endColor: [43, 91, 249],\r\n        durtion: \"1s\",\r\n        step: 100,\r\n      };\r\n      Object.assign(baseOption, this.progressOption);\r\n      // 中心位置自动生成\r\n      baseOption.cy = baseOption.cx = baseOption.radius + baseOption.strokeWidth;\r\n      baseOption.size = (baseOption.radius + baseOption.strokeWidth) * 2;\r\n      return baseOption;\r\n    },\r\n  },\r\n  mounted() {\r\n    window.renderProgress = (percent, state) => {\r\n      if (this.state !== 2) {\r\n        this.state = state;\r\n      }\r\n\r\n      this.progressNum = percent;\r\n    };\r\n  },\r\n};\r\n</script>\r\n"]}]}